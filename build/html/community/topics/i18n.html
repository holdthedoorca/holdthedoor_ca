
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Internationalization &#8212; pydata 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=b83be735" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=e1a75a79"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'community/topics/i18n';</script>
    <script src="../../_static/pydata-icon.js?v=f63c87bd"></script>
    <script src="../../_static/custom-icon.js?v=74687d30"></script>
    <link rel="icon" href="../../_static/logo.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Update our kitchen sink" href="kitchen-sink.html" />
    <link rel="prev" title="Galleries and the gallery-grid directive" href="galleries.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="Oct 29, 2024"/>   
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
  <aside class="bd-header-announcement d-print-none d-none" aria-label="Announcement" data-pst-announcement-url="https://raw.githubusercontent.com/pydata/pydata-sphinx-theme/main/docs/_templates/custom-template.html"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.svg" class="logo__image only-light" alt=""/>
    <img src="../../_static/logo-dark.svg" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">PyData Theme</p>
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Contributor Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/pydata/pydata-sphinx-theme/releases">
    Changelog
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://pydata.org">
    PyData Website
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://numfocus.org/">
    NumFocus
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://numfocus.org/donate">
    Donate to NumFocus
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/PyData" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pydata/pydata-sphinx-theme" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydata-sphinx-theme" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pydata.org" title="PyData" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pydata fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyData</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Contributor Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/pydata/pydata-sphinx-theme/releases">
    Changelog
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://pydata.org">
    PyData Website
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://numfocus.org/">
    NumFocus
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://numfocus.org/donate">
    Donate to NumFocus
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/PyData" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pydata/pydata-sphinx-theme" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/pydata-sphinx-theme" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pydata.org" title="PyData" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pydata fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyData</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributor guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Get started with development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure.html">Structure of this theme</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Topic guides</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="accessibility.html">Accessibility checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="assets.html">Web assets (CSS/JS/Fonts)</a></li>
<li class="toctree-l2"><a class="reference internal" href="attribution.html">Ignore formatting commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">blame</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap.html">Upgrade to bootstrap 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Update Sphinx configuration during the build</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependencies-js.html">Update JavaScript dependencies and their versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="galleries.html">Galleries and the <code class="docutils literal notranslate"><span class="pre">gallery-grid</span></code> directive</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="kitchen-sink.html">Update our kitchen sink</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual-dev.html">Set up a manual development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="page-metadata.html">Page-level configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="pre-commit.html">Using <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="pydata.html">PyData package support</a></li>
<li class="toctree-l2"><a class="reference internal" href="warnings.html">Expected build warnings</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Team practices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../practices/merge.html">Merge and review policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practices/release.html">Making releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practices/versions.html">Supported Python and Sphinx versions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About the project</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors to this theme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inspiration.html">Inspiration for design and UX</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Contributor Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Topic guides</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Internationalization</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                   <section id="internationalization">
<h1>Internationalization<a class="headerlink" href="#internationalization" title="Link to this heading">#</a></h1>
<p>This section covers how to internationalize (I18n) and localize (L10n) the PyData Sphinx Theme.
For details on how to localize the configurable strings in your Sphinx project, see the
<a class="reference internal" href="../../user_guide/i18n.html#user-guide-i18n"><span class="std std-ref">User guide section on internationalization</span></a>.</p>
<p>The PyData Sphinx Theme I18n/i10n workflows are based on <a class="reference external" href="http://www.gnu.org/software/gettext/">GNU Gettext</a>
and <a class="reference external" href="https://babel.pocoo.org/en/latest/messages.html">pybabel</a> is used to keep the catalogs up to date.
Crowd-sourced localizations are managed on <a class="reference external" href="https://explore.transifex.com/12rambau/pydata-sphinx-theme/">Transifex</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Internationalization</strong> (or I18n) is the process of making a program or application aware of and able to support multiple
languages.</p>
<p><strong>Localization</strong> (L10n) is the process of translating localized programs or applications into different languages while
ensuring that the translations are correct for some native language and cultural habits.</p>
<p>The formal description of specific set of cultural habits for some country, together with all associated translations
targeted to the same native language, is called the <em>locale</em> for this language or country.
For more information about localization and internationalization see <a class="reference external" href="https://www.gnu.org/software/gettext/manual/html_node/Concepts.html">GNU gettext concepts</a>.</p>
</div>
<p>The general process for internationalizing and localizing the theme is as follows:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#adding-localizable-text"><span class="std std-ref">Mark strings in the theme as localizable</span></a>.</p></li>
<li><p><a class="reference internal" href="#updating-localization-files"><span class="std std-ref">Extract localizable strings</span></a> to a message catalog template <code class="docutils literal notranslate"><span class="pre">POT</span></code> (<code class="docutils literal notranslate"><span class="pre">PO</span></code> template file).</p></li>
<li><p>Generare a <code class="docutils literal notranslate"><span class="pre">PO</span></code> file from the <code class="docutils literal notranslate"><span class="pre">POT</span></code> file for <a class="reference internal" href="#adding-new-language"><span class="std std-ref">a new language (locale) you want to localize</span></a>
(or <a class="reference internal" href="#updating-localization-files"><span class="std std-ref">update existing localization files</span></a>).</p></li>
<li><p><a class="reference internal" href="#compiling-localization-files"><span class="std std-ref">Compile the message catalogs</span></a> to binary <code class="docutils literal notranslate"><span class="pre">MO</span></code> files.</p></li>
<li><p><a class="reference internal" href="#localizing-the-theme"><span class="std std-ref">Localize the theme</span></a>.</p></li>
</ol>
<section id="localization-files">
<h2>Localization files<a class="headerlink" href="#localization-files" title="Link to this heading">#</a></h2>
<p>There are three types of files used in the localization process:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.gnu.org/software/gettext/manual/gettext.html#PO-Files">PO files</a> ( Portable Object, also known as message catalogs)
associate each original, translatable string (defined in <code class="docutils literal notranslate"><span class="pre">msgid</span></code>) of a given program with its translation in a
particular target language (defined in <code class="docutils literal notranslate"><span class="pre">msgstr</span></code> fields). A single PO file is dedicated to a single target language.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MO</span></code> (Machine Object) files are a binary version of a PO file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POT</span></code> (Portable Object Template) files are similar to PO files, but with empty translations.
They are used as a template for new languages.</p></li>
</ol>
</section>
<section id="marking-strings-as-localizable">
<span id="adding-localizable-text"></span><h2>Marking strings as localizable<a class="headerlink" href="#marking-strings-as-localizable" title="Link to this heading">#</a></h2>
<p>All natural language text in the theme’s components and layouts must be marked as localizable so that they can be later translated (or localized) into other languages.
For example, if you add a button with the text <strong>Next page</strong>, you will need to mark this text as localizable.</p>
<p><code class="docutils literal notranslate"><span class="pre">HTML</span></code> templates (located in the <code class="docutils literal notranslate"><span class="pre">src/pydata_sphinx_theme/theme/</span></code> directory).
To do so, you can use the Jinja2 <code class="docutils literal notranslate"><span class="pre">trans</span></code> block and/or a <code class="docutils literal notranslate"><span class="pre">_()</span></code> function to mark text as localizable in the corresponding</p>
<p>For example, to mark the text <strong>Next page</strong> as localizable, you would write:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;button type=&quot;button&quot;&gt;</span>
<span class="x">   </span><span class="cp">{{</span><span class="o">-</span> <span class="kp">_</span><span class="o">(</span><span class="s2">&quot;Next page&quot;</span><span class="o">)</span> -<span class="cp">}}</span>
<span class="x">&lt;/button&gt;</span>
</pre></div>
</div>
<p>Any text that is marked in this way will be discoverable by <code class="docutils literal notranslate"><span class="pre">pybabel</span></code> and used to generate the localization files
(<code class="docutils literal notranslate"><span class="pre">PO</span></code> files).</p>
<p>Once you’ve marked the text as localizable, complete the steps outlined in the <a class="reference internal" href="#updating-localization-files"><span class="std std-ref">Updating the localization files</span></a>
section of this documentation.</p>
<p>For more details on marking strings as localizable in jinja templates visit <a class="reference external" href="https://jinja.palletsprojects.com/en/3.0.x/templates/">the Jinja2 documentation</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Remember to <a class="reference external" href="https://jinja.palletsprojects.com/en/2.11.x/templates/#working-with-manual-escaping">manually escape variables</a> if needed.</p>
</div>
<p>Sometimes, it can help localizers to describe where a string comes from or whether it refers to a noun or verb,
particularly if it can be difficult to find in the theme, or if the string itself is not very self-descriptive (for example, very short strings).
If you immediately precede the string with a comment that starts with <code class="docutils literal notranslate"><span class="pre">L10n:</span></code>, the comment will be added to the PO
file, and visible to localizers. For example:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="c">{# L10n: Navigation button at the bottom of the page #}</span>
<span class="x">&lt;button type=&quot;button&quot;&gt;</span>
<span class="x">   </span><span class="cp">{{</span><span class="o">-</span> <span class="kp">_</span><span class="o">(</span><span class="s2">&quot;Next page&quot;</span><span class="o">)</span> -<span class="cp">}}</span>
<span class="x">&lt;/button&gt;</span>
</pre></div>
</div>
</section>
<section id="updating-the-localization-files">
<span id="updating-localization-files"></span><h2>Updating the localization files<a class="headerlink" href="#updating-the-localization-files" title="Link to this heading">#</a></h2>
<p>When you add or change natural language text in the theme, you must update the message catalogs to include the new or
updated text. Follow these steps:</p>
<ol class="arabic">
<li><p>Edit the natural language text and ensure it is <a class="reference internal" href="#adding-localizable-text"><span class="std std-ref">marked as localizable</span></a>.</p></li>
<li><p>Extract the strings and update the localization files (<code class="docutils literal notranslate"><span class="pre">POT</span></code> file):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># note this will by default update all the localization files for all the supported locales</span>
tox<span class="w"> </span>run<span class="w"> </span>-e<span class="w"> </span>i18n-extract
</pre></div>
</div>
</li>
</ol>
<p>This will update the localization files with new information about the position and text of the language you have modified.</p>
<p>If you <em>only</em> change non-localizable text (like HTML markup), the <code class="docutils literal notranslate"><span class="pre">extract</span></code> command will only update the
positions (line numbers) of the localizable strings.
Updating positions is optional - the line numbers are to inform the human translator, not to perform the localization.
But it is best practice to keep the positions up to date.</p>
<p>If you change localizable strings, the above command will extract the new or updated strings to localization template
file (<code class="docutils literal notranslate"><span class="pre">POT</span></code>) and perform a fuzzy match between the new or updated strings and existing localizations in the
localization files.
If there is a fuzzy match, a comment like <code class="docutils literal notranslate"><span class="pre">#,</span> <span class="pre">fuzzy</span></code> is added before the matched entry, this means that the
localization needs to be manually reviewed and possibly updated.
If after reviewing the localization you decide to keep the existing localization, you can remove the <code class="docutils literal notranslate"><span class="pre">#,</span> <span class="pre">fuzzy</span></code>
comment from the entry.
If there is no fuzzy match, it will add a new localization entry.
You can learn more about fuzzy entries in the <a class="reference external" href="https://www.gnu.org/software/gettext/manual/gettext.html#Fuzzy-Entries">GNU gettext manual</a>.</p>
</section>
<section id="compiling-the-localization-files">
<span id="compiling-localization-files"></span><h2>Compiling the localization files<a class="headerlink" href="#compiling-the-localization-files" title="Link to this heading">#</a></h2>
<p>Gettext doesn’t parse any text files, it reads a binary format for faster performance. To compile the latest PO files in
the repository run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tox<span class="w"> </span>run<span class="w"> </span>-e<span class="w"> </span>i18n-compile
</pre></div>
</div>
<p>You can also run the extract, update and compile commands in one go:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tox<span class="w"> </span>run<span class="w"> </span>-m<span class="w"> </span>i18n
</pre></div>
</div>
<p>This will update the localization files and compile them into binary <code class="docutils literal notranslate"><span class="pre">MO</span></code> files in a single step.
However, if there are fuzzy matches needing review, the compilation will fail, and you will need to review the
localizations manually.
Then compile the files again.</p>
</section>
<section id="adding-a-new-language">
<span id="adding-new-language"></span><h2>Adding a new language<a class="headerlink" href="#adding-a-new-language" title="Link to this heading">#</a></h2>
<p>The list of languages with existing (possibly incomplete) localizations is available in the
<code class="docutils literal notranslate"><span class="pre">src/pydata_sphinx_theme/locale</span></code> directory.</p>
<p>To add a new language, follow these steps:</p>
<ol class="arabic">
<li><p>Identify the <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 code</a> for the new language.</p></li>
<li><p>Generate a <code class="docutils literal notranslate"><span class="pre">PO</span></code> file based on <code class="docutils literal notranslate"><span class="pre">POT</span></code> file for this new language:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># for example, to add Quechua (ISO 639-1 code: qu)</span>
tox<span class="w"> </span>-e<span class="w"> </span>i18n-new-locale<span class="w"> </span>--<span class="w"> </span>qu
</pre></div>
</div>
</li>
<li><p>Update and compile the localization files as described in the <a class="reference internal" href="#updating-localization-files"><span class="std std-ref">Updating the localization files</span></a> and
<a class="reference internal" href="#compiling-localization-files"><span class="std std-ref">Compiling the localization files</span></a> sections. Then commit the changes.</p></li>
<li><p>Localize the theme’s into the newly added language (see <a class="reference internal" href="#localizing-the-theme"><span class="std std-ref">Localizing the theme</span></a>).</p></li>
</ol>
</section>
<section id="localizing-the-theme">
<span id="id1"></span><h2>Localizing the theme<a class="headerlink" href="#localizing-the-theme" title="Link to this heading">#</a></h2>
<p>We manage localizations on the <a class="reference external" href="https://explore.transifex.com/12rambau/pydata-sphinx-theme/">PyData Sphinx Theme project on Transifex</a>.</p>
<p>To contribute localization, follow these steps:</p>
<ol class="arabic simple">
<li><p>Sign up for a <a class="reference external" href="https://www.transifex.com/signup/">Transifex account</a>.</p></li>
<li><p>Join the <a class="reference external" href="https://explore.transifex.com/12rambau/pydata-sphinx-theme/">PyData Sphinx Theme project</a>.</p></li>
<li><p>Select the language you want to localize. If the language you are looking for is not listed, you can <a class="reference external" href="https://github.com/pydata/pydata-sphinx-theme/issues">open an issue on GitHub to request it</a>. Then you can open a pull request
to add the new language following the steps outlined in <a class="reference internal" href="#adding-new-language"><span class="std std-ref">Adding a new language</span></a>.</p></li>
<li><p>Now you are ready to start localizing the theme. If you are new to Transifex you can visit the
<a class="reference external" href="https://help.transifex.com/en/articles/6240403-translating-html-content">Transifex documentation</a> for more information.</p></li>
</ol>
<p>Once you have completed your localization, the PyData Sphinx Theme maintainers will review and approve it.</p>
</section>
<section id="localization-tips">
<h2>Localization tips<a class="headerlink" href="#localization-tips" title="Link to this heading">#</a></h2>
<section id="localize-phrases-not-words">
<h3>Localize phrases, not words<a class="headerlink" href="#localize-phrases-not-words" title="Link to this heading">#</a></h3>
<p>Full sentences and clauses must always be a single localizable string.
Otherwise, you can get <code class="docutils literal notranslate"><span class="pre">next</span> <span class="pre">page</span></code> localizated as <code class="docutils literal notranslate"><span class="pre">suivant</span> <span class="pre">page</span></code> instead of as <code class="docutils literal notranslate"><span class="pre">page</span> <span class="pre">suivante</span></code>, etc.</p>
</section>
<section id="dealing-with-variables-and-markup-in-localizations">
<h3>Dealing with variables and markup in localizations<a class="headerlink" href="#dealing-with-variables-and-markup-in-localizations" title="Link to this heading">#</a></h3>
<p>A localizable string can be a combination of a fixed string and a variable, for example, <code class="docutils literal notranslate"><span class="pre">Welcome</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">Spanish</span> <span class="pre">version</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">site</span></code>
is a combination of the fixed parts <code class="docutils literal notranslate"><span class="pre">Welcome</span> <span class="pre">to</span> <span class="pre">the</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">site</span></code> and the variable part <code class="docutils literal notranslate"><span class="pre">Spanish</span></code>.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">trans</span> <span class="nv">language</span><span class="o">=</span><span class="nv">language</span> <span class="cp">%}</span>
<span class="x">Welcome to the </span><span class="cp">{{</span> <span class="nv">language</span> <span class="cp">}}</span><span class="x"> version of the site</span>
<span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Binding the variable as <code class="docutils literal notranslate"><span class="pre">language=language</span></code> ensures the string can be properly localized, especially as the word order
may vary across locales.
The above string will be extracted as <code class="docutils literal notranslate"><span class="pre">Welcome</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">%(language)</span> <span class="pre">version</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">site</span></code>.
The translator must use <code class="docutils literal notranslate"><span class="pre">%(language)</span></code> verbatim while localizing the theme.</p>
<p>When a block contains HTML with attributes, those which don’t need to be localized should be passed as arguments.
This ensures strings won’t need to be re-localized if those attributes change:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">trans</span> <span class="nv">url</span><span class="o">=</span><span class="s2">&quot;https://pydata.org/&quot;</span> <span class="cp">%}</span>
<span class="x"> Please visit &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">url</span> <span class="cp">}}</span><span class="x">&quot; title=&quot;PyData website&quot;&gt;the PyData website&lt;/a&gt; for more information.</span>
<span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span>
</pre></div>
</div>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<p>I18N and L10N are deep topics. Here, we only cover the bare minimum needed to fulfill basic technical tasks. You might like:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=0j74jcxSunY">Internationalis(z)ing Code</a> by Computerphile on YouTube</p></li>
<li><p><a class="reference external" href="http://garbled.benhamill.com/2017/04/18/falsehoods-programmers-believe-about-language">Falsehoods Programmers Believe About Language</a> by Ben Hamill</p></li>
</ul>
</section>
</section>

<div class="section ablog__blog_comments">
   
</div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="galleries.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Galleries and the <code class="docutils literal notranslate"><span class="pre">gallery-grid</span></code> directive</p>
      </div>
    </a>
    <a class="right-next"
       href="kitchen-sink.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Update our kitchen sink</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#localization-files">Localization files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#marking-strings-as-localizable">Marking strings as localizable</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#updating-the-localization-files">Updating the localization files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compiling-the-localization-files">Compiling the localization files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-a-new-language">Adding a new language</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#localizing-the-theme">Localizing the theme</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#localization-tips">Localization tips</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#localize-phrases-not-words">Localize phrases, not words</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-variables-and-markup-in-localizations">Dealing with variables and markup in localizations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/community/topics/i18n.rst">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, henry.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>